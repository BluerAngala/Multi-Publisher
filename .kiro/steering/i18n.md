---
inclusion: fileMatch
fileMatchPattern: ['locales/**/*.json']
---
# 国际化（i18n）开发指南

## 消息结构
- 将所有文本内容存储在 `/locales/[locale]/messages.json` 中
- 使用驼峰命名法的描述性消息键：`errorImportingContent`
- 使用 $PLACEHOLDER$ 语法包含占位符
- 在消息文件中为翻译人员添加描述
- `console.log` 不需要添加 i18n，仅用于屏幕上显示的 UI 文本

## 消息格式
```json
"extensionDisplayName": {
  "message": "MultiPost",
  "description": "Multipost 扩展"
},
```

## 实现方式
- 对所有面向用户的文本使用 `chrome.i18n.getMessage('extensionDisplayName')`
- 永远不要在 UI 组件中硬编码文本字符串
- 使用适当的 CSS 处理 RTL（从右到左）语言
- 在 manifest.json 中设置 default_locale
- 支持备用语言环境

## 最佳实践
- 保持消息简洁明了
- 使用语义化的键名（如 WELCOME_MESSAGE 而非 MSG_001）
- 在翻译中保持术语一致性
- 正确处理复数形式
- 考虑日期、数字和货币格式的文化差异
- 使用不同语言长度测试 UI

## 代码示例
```typescript
// 组件使用
const message = chrome.i18n.getMessage("WELCOME_MESSAGE", [username]);

// Manifest 配置
{
  "default_locale": "en",
  "name": "__MSG_extension_name__",
  "description": "__MSG_extension_description__"
}
```
